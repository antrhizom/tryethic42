<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ethische Szenarien – Digitale Transformation</title>
  <link rel="stylesheet" href="style.css" />
  <meta name="color-scheme" content="light dark" />
</head>
<body>
  <header class="site-header">
    <div class="wrap">
      <div class="brand">
        <span class="logo">∑</span>
        <div class="brand-text">
          <strong>Ethische Szenarien</strong>
          <small>Digitale Transformation – Innovationsfonds BBW</small>
        </div>
      </div>

      <nav id="nav" class="site-nav" aria-label="Hauptnavigation">
        <a href="#home">Start</a>
        <a href="#ethikfilter">Ethikfilter</a>
        <a href="#grundlagenethik">Grundlagenethik</a>
        <a href="#szenarien">Szenarien</a>
      </nav>
    </div>

    <noscript>
      <div class="wrap noscript">
        <p><strong>Ohne JavaScript:</strong>
          <a href="ethikfilter/index.html">Ethikfilter</a> ·
          <a href="grundlagenethik/index.html">Grundlagenethik</a> ·
          <a href="szenarien/index.html">Szenarien</a>
        </p>
      </div>
    </noscript>
  </header>

  <main id="app" class="wrap" aria-live="polite">
    </main>

  <footer class="site-footer">
    <div class="wrap">
      <p>Teil des Innovationsfondsprojekts – BBW</p>
    </div>
  </footer>

  <script>
    const ROUTES = {
      'home': 'initial-content',
      'ethikfilter': 'ethikfilter/index.html',
      'grundlagenethik': 'grundlagenethik/index.html',
      'szenarien': 'szenarien/index.html',
      'digitaltransform': 'szenarien/digitaltransform.html'
    };

    const app = document.getElementById("app");
    const navLinks = document.querySelectorAll(".site-nav a");

    const initialContent = `
      <section class="hero">
        <h1>Ethische Szenarien zur Digitalen Transformation</h1>
        <p class="lead">
          Diese Lernumgebung zeigt, wie unterschiedliche <b>ethische Positionen</b> wirken,
          welche <b>herausfordernden Situationen</b> durch die digitale Transformation entstehen
          und wie du diese mithilfe <b>ethischer Prinzipien</b> beurteilen und klären kannst.
        </p>
        <div class="hero-actions">
          <a class="button primary" href="#szenarien">Zu den Szenarien</a>
          <a class="button" href="#grundlagenethik">Grundlagenethik</a>
        </div>
      </section>

      <section class="intro grid-2">
        <div class="card">
          <h2>Was machen wir hier?</h2>
          <p>
            Du analysierst reale Dilemmata der digitalen Welt (z.&nbsp;B. KI im Recruiting,
            Überwachung, algorithmischer Bias) und wendest drei Blickwinkel an:
            <span class="tag">Deontologie</span>, <span class="tag">Utilitarismus</span>,
            <span class="tag">Tugendethik</span>.
          </p>
          <div class="callout info">
            <strong>Ziel:</strong> begründete Urteile fällen, Perspektiven abwägen,
            Handlungsoptionen formulieren.
          </div>
        </div>

        <div class="card">
          <h2>Wie arbeitest du?</h2>
          <ol class="tight">
            <li>Wähle ein <b>Szenario</b> und lies die Beschreibung.</li>
            <li>Analysiere mit <b>Ethikfilter</b> &amp; <b>Grundlagenethik</b>.</li>
            <li>Beantworte Reflexionsfragen, leite <b>Prinzipien</b> ab.</li>
            <li>Formuliere eine <b>empfohlene Entscheidung</b> inkl. Begründung.</li>
          </ol>
          <div class="callout tip">
            <strong>Tipp:</strong> Notiere Gegenargumente sichtbar – gute Ethik
            macht Annahmen transparent.
          </div>
        </div>
      </section>

      <section class="grid-3">
        <article class="card hoverable">
          <h3>Ethikfilter</h3>
          <p>Kompakte Fragen, die dir helfen, blinde Flecken zu finden
            (Fairness, Transparenz, Verantwortung, Verhältnismäßigkeit …).</p>
          <a class="button small" href="#ethikfilter">Öffnen</a>
        </article>
        <article class="card hoverable">
          <h3>Grundlagenethik</h3>
          <p>Deontologie, Utilitarismus, Tugendethik – übersichtlich erklärt
            mit Beispielen und Formulierungs-Hilfen.</p>
          <a class="button small" href="#grundlagenethik">Öffnen</a>
        </article>
        <article class="card hoverable">
          <h3>Szenarien</h3>
          <p>KI-Recruiting, Gesichtserkennung im öffentlichen Raum,
            stereotype KI-Bilder u. a. – jeweils mit Leitfragen.</p>
          <a class="button small" href="#szenarien">Öffnen</a>
        </article>
      </section>
    `;

    function setActiveLink(hash) {
      navLinks.forEach(link => {
        link.classList.toggle('active', link.getAttribute('href') === hash);
      });
    }

    async function loadRoute(hash) {
      setActiveLink(hash);
      const file = ROUTES[hash.substring(1)];

      if (file === 'initial-content') {
        app.innerHTML = initialContent;
        return;
      }

      app.innerHTML = `<div class="loading">Lade Inhalt …</div>`;
      try {
        const response = await fetch(file);
        if (!response.ok) throw new Error(response.status + ' ' + response.statusText);
        const htmlText = await response.text();
        
        const doc = new DOMParser().parseFromString(htmlText, 'text/html');
        const mainContent = doc.querySelector('main').innerHTML;
        app.innerHTML = `<section class="loaded">${mainContent}</section>`;
        window.scrollTo({ top: 0, behavior: 'smooth' });

      } catch (e) {
        app.innerHTML = `
          <section class="error card">
            <h2>404 – Nicht gefunden</h2>
            <p><code>${file}</code></p>
            <p><a class="button small" href="#home">Zurück zur Startseite</a></p>
          </section>
        `;
        console.error("Fehler beim Laden der Seite:", e);
      }
    }

    function handleHashChange() {
      const hash = window.location.hash || '#home';
      loadRoute(hash);
    }

    window.addEventListener('hashchange', handleHashChange);
    window.addEventListener('DOMContentLoaded', handleHashChange);
  </script>
</body>
</html>
